Multipass doesn't work correctly... step-over seems to
be the entire amount of the rectangle defined. To investigate.

Display Vc (surface speed in m/min) if diameter is set
Note the SI unit is metres per minute, not mm. So:
Vc = (M_PI * D * n) / 1000.0;

Probing
  X probing: would need an insulated known diameter bar
  held in the spindle.
  
  Z probing: would need an insulated known length bar
  which could be held on the end of a workpiece.

  Will need a dedicated pin on the Pi for monitoring

Make display more "modular" (display elements should be
in definable boxes). This will make layout easier to
modify and will make it easier to support touch interaction.
Maybe create a class which encapsulates a display element.

The interleaved "dialog" is becoming unmanageable and
requires changes all over the place when changed/added to.
Need to move all input to the new modal dialog system (WIP)

Not sure how realistic this is... consider tool numbers with
both Z and X offsets to offer repeatable positioning after
a tool swap. Maybe some form of probing like on the CNC?

Probing (see above) sounds useful anyway as a way to touch off?

Automation of repeated cut - maybe a mode? Like multi-pass,
Where it cuts from Mem 1 to Mem 2, then fast returns, then
waits for a key press and repeats until cancelled (thinking
about making repeated cuts down to depth easier). This could
be implemented by just using multi-pass with a "press any
key" between passes.

Support three axes, to enable X,Y, and a rotary table (or z,
x, and manual rotation of chuck on the lathe)
  - axes should just be a collection of axis types
  - specific axes which require specialised behaviour
    can have attributes perhaps (e.g. retraction)
      - Determine which specialised behaviour needs extracting

RPM on real hardware seems erratic past about 1200 rpm. Cannot
reproduce using mocks, so maybe we're hitting a limitation on
the rotary encoder? (not relevant currently now I've lowered
the gearing on the lathe's spindle)

Need a way to detect loss of steps. Probably not possible without
hooking into linear scales (possible mod to sender unit)
  - on the lathe, the z axis controller has pins to detect
    loss of steps directly. If this is triggered, we could
    stop the z axis. Not sure how accurate the position will
    be after this. To test once wired up.

Expand use of dialog. For instance the help screen could be
much larger. Will require a resizable (or dynamically expanding)
box for display of information. May want multiple inputs within
such a display box.

Maybe allow zeroing of chuck angle? (use offset in reporting)

Make use of the keys on the right (#, Home, PgUp, PgDn, End)?

Remove Alt-Arrows for rapids once controller set up for mill?
  - now they behave more safely maybe not

Lots of refactoring still needed as this grew a bit organically

Implement a proper menu/dialog (see level_designer)
  - This is partially implemented, currently just used for "I"
    input

(related to above) Address the "Mode" concept which currently provides
pseudo-modal "dialogs" interleaved into program flow, and is proving
difficult to maintain. If all motors are stopped during a "dialog" then
we can put them all on a separate flow

Touchscreen support (not that I have touch screens yet)

Now that we have support for reading a linear scale on the Z-axis
we need to consider how best to use it. Should position come solely
from that, rather than continuing to rely on "dead reckoning"?
Or should it be used just to make corrections to the expected position?
For the latter maybe we just periodically call setPosition() on axis1's
motor? Or we give the motor a callback function to determine position?

Support limit switches. Could have multiple switches all on one pin and
when triggered it simply issues a 'stop all'. This is partially
implemented (see limitSwitchTriggered())

Support enable pin for each motor

I defined some constants for a slight z infeed when cutting threads
(see INFEED and SIDEFEED) but never used them. Maybe implement to
simulate the use of topslide)

Set initial x-axis retraction direction from config file

Start thinking around a setting for adding a tiny amount of x motion
to counteract a lathe that cuts a bit of a taper (which works brilliantly,
but needs to be a config item that is applied automatically, rather
than having to use taper mode)
    Idea: for determining the angle required for correcting a lathe
    cutting a taper: allow the program to calculate the angle required
    by entering two measurements and a distance

All "Axis1..." and "Axis2..." references should be replaced with an
array to allow for future expansion. Might be difficult owing to different
behaviours of the axes.

Consider adding support for some form of switch / sensor to prevent
carriage movement outside of specific points (or mandate position
checks at start-up to do this in software only?)
  - Display warning if chuck is running in reverse

Support display in thousands of an inch as an option - should be simple
to just update in the view (and keep everything metric underneath)
